<html>
    <head>
        <meta charset="UTF-8" />
        <title>구구단</title>
        <!-- react/ jsx를 사용하기 위해 CDN 링크 삽입 -->
        <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
        <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
        <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    </head>

    <body>
        <div id="root"></div>
            <script type="text/babel">
                const GuGuDan = () => {
                    // 구조분해 문법
                    const [first, setFirst] = React.useState(Math.ceil(Math.random() * 9));
                    const [second, setSecond] = React.useState(Math.ceil(Math.random() * 9));
                    const [value, setValue] = React.useState('');
                    const [result, setResult] = React.useState('');
                    const inputRef = React.useRef(null);

                    const onSubmit = (e) => {
                        e.preventDefault();
                        if(parseInt(value) === first* second){
                            setResult('정답입니다 :) ' + value);
                            setFirst(Math.ceil(Math.random() * 9));
                            setSecond(Math.ceil(Math.random() * 9));
                            setValue('');
                            inputRef.current.focus();
                        }
                        else{
                            setResult('틀렸습니다 :(');
                            setValue('');
                            inputRef.current.focus();
                        }
                    };

                    const onChange = (e) => {
                        setValue(e.target.value);
                    };
                    // const input;
                    
                    // //Content 
                    // render() {
                    //     return (
                    //         <React.Fragment>
                    //             <div>{this.state.first} X {this.state.second} =</div>
                    //             <form onSubmit = {this.onSubmit}>
                    //                 <input ref={this.onRefInput} type="number" value={this.state.value} onChange={this.onChange} />
                    //                     <button>입력</button>
                    //             </form>
                    //             <div>{this.state.result}</div>
                    //         </React.Fragment>
                    //     );
                        
                    // }
                    return (
                        <React.Fragment>
                            <div>{first} X {second} = </div>
                            <form onSubmit = {onSubmit}>
                                <input ref={inputRef} onChange={onChange}type="number" value = {value} />
                                <button>입력</button>
                            </form>
                            <div>{result}</div>
                        </React.Fragment>
                    );
                }
            </script>
            <script type="text/babel">
                ReactDOM.render(<div><GuGuDan /></div>, document.querySelector('#root'));
            </script>
    </body>
</html>